(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[176],{2339:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signin",function(){return r(1919)}])},1919:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return P}});var n=r(5666),i=r.n(n),s=r(5893),a=r(4920),o=r(1664),c=r(5548),l=r(7294),u=r(3153),d=r(1163);function m(e,t,r,n,i,s,a){try{var o=e[s](a),c=o.value}catch(l){return void r(l)}o.done?t(c):Promise.resolve(c).then(n,i)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){p(e,t,r[t])}))}return e}function x(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function h(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var b=(0,l.createContext)({loading:!1}),v=function(e){var t,r=e.className,n=e.method,a=e.onSubmit,o=e.onSuccess,c=e.children,u=x(e,["className","method","onSubmit","onSuccess","children"]),p=(0,l.useState)(),h=p[0],v=p[1],g=(0,l.useState)(!1),y=g[0],j=g[1],N=(0,d.useRouter)(),w=(t=i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!a){e.next=19;break}return j(!0),e.prev=3,v(void 0),e.next=7,a(t);case 7:r=e.sent,o&&o({response:r,router:N}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("ERROR",e.t0),v(null!==(n=e.t0.responseStatus)&&void 0!==n?n:e.t0);case 16:return e.prev=16,j(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[3,11,16,19]])})),function(){var e=this,r=arguments;return new Promise((function(n,i){var s=t.apply(e,r);function a(e){m(s,n,i,a,o,"next",e)}function o(e){m(s,n,i,a,o,"throw",e)}a(void 0)}))});return(0,s.jsx)(b.Provider,{value:{loading:y,responseStatus:h},children:(0,s.jsx)("form",f({method:null!==n&&void 0!==n?n:"POST",className:r,onSubmit:w},u,{children:c}))})},g=function(e){var t=e.except,r=(0,l.useContext)(b),n=(null===r||void 0===r?void 0:r.responseStatus)?c.errorResponseExcept.call(r,t):null;return n?(0,s.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(u.oOx,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),(0,s.jsx)("div",{className:"ml-3",children:(0,s.jsx)("p",{className:"text-sm text-red-700",children:n})})]})}):null},y=function(e){var t=e.type,r=e.id,n=e.name,i=e.className,a=e.description,o=e.placeholder,d=x(e,["type","id","name","className","description","placeholder"]);null!==o&&void 0!==o||(o=n);var m=(0,l.useContext)(b),p=null===m||void 0===m?void 0:m.responseStatus,v=r&&p&&c.errorResponse.call(m,r),g=["block w-full sm:text-sm rounded-md",v?"pr-10 border-red-300 text-red-900 placeholder-red-300 focus:outline-none focus:ring-red-500 focus:border-red-500":"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 border-gray-300",i],y=[];if(v&&(y.push((0,s.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,s.jsx)(u.$Ow,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})},"error-icon")),a=v),a){var j=r+"-description";d["aria-describedby"]=j,y.push((0,s.jsx)("p",{className:"mt-2 text-sm ".concat(v?"text-red-500":"text-gray-500"),id:j,children:a},"description"))}return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("label",{htmlFor:r,className:"block text-sm font-medium text-gray-700",children:n}),(0,s.jsx)("div",{className:"mt-1",children:(0,s.jsx)("input",f({type:null!==t&&void 0!==t?t:"text",name:r,id:r,className:g.join(" "),placeholder:o},d))}),h(y)]})},j=function(e){var t=e.id,r=e.name,n=e.description,i=x(e,["id","name","description"]),a=(0,l.useContext)(b),o=null===a||void 0===a?void 0:a.responseStatus,d=t&&o&&c.errorResponse.call(a,t),m=[];if(d&&(m.push((0,s.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,s.jsx)(u.$Ow,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})},"error-icon")),n=d),n){var p=t+"-description";i["aria-describedby"]=p,m.push((0,s.jsx)("p",{className:"mt-2 text-sm ".concat(d?"text-red-500":"text-gray-500"),id:p,children:n},"description"))}return(0,s.jsxs)("div",{className:"relative flex items-start",children:[(0,s.jsx)("div",{className:"flex items-center h-5",children:(0,s.jsx)("input",f({id:t,name:t,type:"checkbox",value:"true",className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"},i))}),(0,s.jsxs)("div",{className:"ml-3 text-sm",children:[(0,s.jsx)("label",{htmlFor:t,className:"font-medium text-gray-700 select-none",children:r}),h(m)]})]})},N=function(e){var t=e.type,r=e.className,n=e.children;x(e,["type","className","children"]);return(0,s.jsx)("button",{type:null!==t&&void 0!==t?t:"submit",className:["inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",r].join(" "),children:n})},w=function(e){var t=e.type,r=e.className,n=e.href,i=e.children,a=(x(e,["type","className","href","children"]),["bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",r].join(" "));return n?(0,s.jsx)(o.default,{href:n,children:(0,s.jsx)("a",{className:a,children:i})}):(0,s.jsx)("button",{type:null!==t&&void 0!==t?t:"submit",className:a,children:i})},O=function(e){var t=e.className,r=e.icon,n=e.text;if(!(0,l.useContext)(b).loading)return null;var i=r||void 0===r,a=void 0===n?"loading...":n,o=["flex",t];return(0,s.jsxs)("div",{className:o.join(" "),title:"loading...",children:[i?(0,s.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"24px",height:"30px",viewBox:"0 0 24 30",children:[(0,s.jsxs)("rect",{x:"0",y:"10",width:"4",height:"10",fill:"#333",opacity:"0.2",children:[(0,s.jsx)("animate",{attributeName:"opacity",attributeType:"XML",values:"0.2; 1; .2",begin:"0s",dur:"0.6s",repeatCount:"indefinite"}),(0,s.jsx)("animate",{attributeName:"height",attributeType:"XML",values:"10; 20; 10",begin:"0s",dur:"0.6s",repeatCount:"indefinite"}),(0,s.jsx)("animate",{attributeName:"y",attributeType:"XML",values:"10; 5; 10",begin:"0s",dur:"0.6s",repeatCount:"indefinite"})]}),(0,s.jsxs)("rect",{x:"8",y:"10",width:"4",height:"10",fill:"#333",opacity:"0.2",children:[(0,s.jsx)("animate",{attributeName:"opacity",attributeType:"XML",values:"0.2; 1; .2",begin:"0.15s",dur:"0.6s",repeatCount:"indefinite"}),(0,s.jsx)("animate",{attributeName:"height",attributeType:"XML",values:"10; 20; 10",begin:"0.15s",dur:"0.6s",repeatCount:"indefinite"}),(0,s.jsx)("animate",{attributeName:"y",attributeType:"XML",values:"10; 5; 10",begin:"0.15s",dur:"0.6s",repeatCount:"indefinite"})]}),(0,s.jsxs)("rect",{x:"16",y:"10",width:"4",height:"10",fill:"#333",opacity:"0.2",children:[(0,s.jsx)("animate",{attributeName:"opacity",attributeType:"XML",values:"0.2; 1; .2",begin:"0.3s",dur:"0.6s",repeatCount:"indefinite"}),(0,s.jsx)("animate",{attributeName:"height",attributeType:"XML",values:"10; 20; 10",begin:"0.3s",dur:"0.6s",repeatCount:"indefinite"}),(0,s.jsx)("animate",{attributeName:"y",attributeType:"XML",values:"10; 5; 10",begin:"0.3s",dur:"0.6s",repeatCount:"indefinite"})]})]}):null,(0,s.jsx)("span",{className:"ml-1 text-gray-400",children:a})]})},S=r(3047),k=r(7008),C=r(667);function T(e,t,r,n,i,s,a){try{var o=e[s](a),c=o.value}catch(l){return void r(l)}o.done?t(c):Promise.resolve(c).then(n,i)}function P(){var e,t=(0,l.useState)(),r=t[0],n=t[1],o=(0,l.useState)(),u=o[0],d=o[1],m=function(e){n(e),d("p@55wOrd")};return(0,C.Z)({redirectToIfAuthenticated:"/"}),(0,s.jsxs)(a.Z,{title:"Sign In",children:[(0,s.jsx)(v,{className:"max-w-prose",onSubmit:function(e){var t=(0,c.serializeToObject)(e.currentTarget),r=t.userName,n=t.password,i=t.rememberMe;return S.L.post(new k.ee({userName:r,password:n,rememberMe:i}))},onSuccess:(e=i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.router.push("/about"));case 1:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function a(e){T(s,n,i,a,o,"next",e)}function o(e){T(s,n,i,a,o,"throw",e)}a(void 0)}))}),children:(0,s.jsxs)("div",{className:"shadow overflow-hidden sm:rounded-md",children:[(0,s.jsx)(g,{except:"userName,password"}),(0,s.jsx)("div",{className:"px-4 py-5 bg-white space-y-6 sm:p-6",children:(0,s.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,s.jsx)(y,{id:"userName",name:"Email",description:"Email you signed up with",defaultValue:r}),(0,s.jsx)(y,{id:"password",name:"Password",type:"password",description:"6 characters or more",defaultValue:u}),(0,s.jsx)(j,{id:"rememberMe",name:"Remember Me"})]})}),(0,s.jsx)("div",{className:"pt-5 px-4 py-3 bg-gray-50 text-right sm:px-6",children:(0,s.jsxs)("div",{className:"flex justify-end",children:[(0,s.jsx)(O,{className:"flex-1"}),(0,s.jsx)(w,{href:"/signup",children:"Register New User"}),(0,s.jsx)(N,{className:"ml-3",children:"Login"})]})})]})}),(0,s.jsxs)("div",{className:"flex mt-8 ml-8",children:[(0,s.jsx)("h3",{className:"mr-4 leading-8 text-gray-500",children:"Quick Links"}),(0,s.jsxs)("span",{className:"relative z-0 inline-flex shadow-sm rounded-md",children:[(0,s.jsx)("button",{type:"button",onClick:function(e){return m("admin@email.com")},className:"relative inline-flex items-center px-4 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",children:"admin@email.com"}),(0,s.jsx)("button",{type:"button",onClick:function(e){return m("new@user.com")},className:"-ml-px relative inline-flex items-center px-4 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",children:"new@user.com"})]})]})]})}}},function(e){e.O(0,[577,153,920,774,888,179],(function(){return t=2339,e(e.s=t);var t}));var t=e.O();_N_E=t}]);