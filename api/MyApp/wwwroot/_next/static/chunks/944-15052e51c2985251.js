"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[944],{7518:function(e,t,n){var r=n(5893);t.Z=function(e){var t=e.children;return(0,r.jsx)("div",{className:"container mx-auto px-5",children:t})}},6673:function(e,t,n){var r=n(5893),i=n(7518),s=n(9953);t.Z=function(){return(0,r.jsx)("footer",{className:"bg-accent-1 border-t border-accent-2",children:(0,r.jsx)(i.Z,{children:(0,r.jsxs)("div",{className:"py-28 flex flex-col lg:flex-row items-center",children:[(0,r.jsx)("h3",{className:"text-4xl lg:text-5xl font-bold tracking-tighter leading-tight text-center lg:text-left mb-10 lg:mb-0 lg:pr-4 lg:w-1/2",children:"Statically Generated with Next.js."}),(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row justify-center items-center lg:pl-4 lg:w-1/2",children:[(0,r.jsx)("a",{href:"https://nextjs.org/docs/basic-features/pages",className:"mx-3 bg-black hover:bg-white hover:text-black border border-black text-white font-bold py-3 px-12 lg:px-8 duration-200 transition-colors mb-6 lg:mb-0",children:"Read Documentation"}),(0,r.jsx)("a",{href:"https://github.com/vercel/next.js/tree/canary/examples/".concat(s.Ys),className:"mx-3 font-bold hover:underline",children:"View on GitHub"})]})]})})})}},4272:function(e,t,n){n.d(t,{sX:function(){return g},FS:function(){return b},wM:function(){return y},l0:function(){return w},Xg:function(){return N},II:function(){return k},XZ:function(){return O},KM:function(){return S},zx:function(){return C},bz:function(){return P}});var r=n(5666),i=n.n(r),s=n(5893),a=n(1664),o=n(5548),c=n(7294),u=n(3153),l=n(1163),d=n(667),f=n(3047);function h(e,t,n,r,i,s,a){try{var o=e[s](a),c=o.value}catch(u){return void n(u)}o.done?t(c):Promise.resolve(c).then(r,i)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){m(e,t,n[t])}))}return e}function x(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function v(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function g(e){var t=(null!==e&&void 0!==e?e:l.default.query).redirect;return t&&Array.isArray(t)?t[0]:t}var b=function(e){return(0,s.jsx)(A,{className:"py-2 pl-4",text:"redirecting ..."})},y=function(e){var t=e.requiredRole,n=e.requiredPermission,r=e.redirectTo,i=e.render,a=(0,d.Z)(),o=a.auth,u=a.signedIn,h=a.hasRole;null!==r&&void 0!==r||(r=(0,l.useRouter)().pathname);var m=function(){return u?t&&!h(t)||n&&!h(n)?f.Z.forbidden():null:f.Z.signin(r)};return(0,c.useEffect)((function(){var e=m();e&&l.default.replace(e)}),[o]),m()?(0,s.jsx)(b,{}):i(p({},a,{auth:a.auth}))},j=(0,c.createContext)({loading:!1,didSubmit:!1});j.Consumer;var w=function(e){var t,n=e.className,r=e.method,a=e.onSubmit,o=e.onSuccess,u=e.children,d=x(e,["className","method","onSubmit","onSuccess","children"]),f=(0,c.useState)(),m=f[0],v=f[1],g=(0,c.useState)(!1),b=g[0],y=g[1],w=(0,c.useState)(!1),N=w[0],k=w[1],O=(0,l.useRouter)(),S=(t=i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),k(!0),!a){e.next=20;break}return y(!0),e.prev=4,v(void 0),e.next=8,a(t);case 8:n=e.sent,o&&(console.log("onSuccess",O.query,l.default.query),o({response:n,router:O})),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(4),console.log("ERROR",e.t0),v(null!==(r=e.t0.responseStatus)&&void 0!==r?r:e.t0);case 17:return e.prev=17,y(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[4,12,17,20]])})),function(){var e=this,n=arguments;return new Promise((function(r,i){var s=t.apply(e,n);function a(e){h(s,r,i,a,o,"next",e)}function o(e){h(s,r,i,a,o,"throw",e)}a(void 0)}))});return(0,s.jsx)(j.Provider,{value:{loading:b,responseStatus:m,didSubmit:N},children:(0,s.jsx)("form",p({method:null!==r&&void 0!==r?r:"POST",className:n,onSubmit:S},d,{children:u}))})},N=function(e){var t=e.except,n=(0,c.useContext)(j),r=(null===n||void 0===n?void 0:n.responseStatus)?o.errorResponseExcept.call(n,t):null;return r?(0,s.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(u.oOx,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),(0,s.jsx)("div",{className:"ml-3",children:(0,s.jsx)("p",{className:"text-sm text-red-700",children:r})})]})}):null},k=function(e){var t=e.type,n=e.id,r=e.name,i=e.className,a=e.description,l=e.placeholder,d=x(e,["type","id","name","className","description","placeholder"]);null!==l&&void 0!==l||(l=r);var f=(0,c.useContext)(j),h=null===f||void 0===f?void 0:f.responseStatus,m=n&&h&&o.errorResponse.call(f,n),g=["block w-full sm:text-sm rounded-md",m?"pr-10 border-red-300 text-red-900 placeholder-red-300 focus:outline-none focus:ring-red-500 focus:border-red-500":"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 border-gray-300",i],b=[];if(m&&(b.push((0,s.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,s.jsx)(u.$Ow,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})},"error-icon")),a=m),a){var y=n+"-description";d["aria-describedby"]=y,b.push((0,s.jsx)("p",{className:"mt-2 text-sm ".concat(m?"text-red-500":"text-gray-500"),id:y,children:a},"description"))}return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("label",{htmlFor:n,className:"block text-sm font-medium text-gray-700",children:r}),(0,s.jsx)("div",{className:"mt-1",children:(0,s.jsx)("input",p({type:null!==t&&void 0!==t?t:"text",name:n,id:n,className:g.join(" "),placeholder:l},d))}),v(b)]})},O=function(e){var t=e.id,n=e.name,r=e.description,i=x(e,["id","name","description"]),a=(0,c.useContext)(j),l=null===a||void 0===a?void 0:a.responseStatus,d=t&&l&&o.errorResponse.call(a,t),f=[];if(d&&(f.push((0,s.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,s.jsx)(u.$Ow,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})},"error-icon")),r=d),r){var h=t+"-description";i["aria-describedby"]=h,f.push((0,s.jsx)("p",{className:"mt-2 text-sm ".concat(d?"text-red-500":"text-gray-500"),id:h,children:r},"description"))}return(0,s.jsxs)("div",{className:"relative flex items-start",children:[(0,s.jsx)("div",{className:"flex items-center h-5",children:(0,s.jsx)("input",p({id:t,name:t,type:"checkbox",value:"true",className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"},i))}),(0,s.jsxs)("div",{className:"ml-3 text-sm",children:[(0,s.jsx)("label",{htmlFor:t,className:"font-medium text-gray-700 select-none",children:n}),v(f)]})]})},S=function(e){var t=e.type,n=e.className,r=e.href,i=e.children,o=x(e,["type","className","href","children"]),c=["inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",n].join(" ");return r?(0,s.jsx)(a.default,{href:r,children:(0,s.jsx)("a",p({className:c},o,{children:i}))}):(0,s.jsx)("button",p({type:null!==t&&void 0!==t?t:"submit",className:c},o,{children:i}))},C=function(e){var t=e.type,n=e.className,r=e.href,i=e.children,o=x(e,["type","className","href","children"]),c=["bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",n].join(" ");return r?(0,s.jsx)(a.default,{href:r,children:(0,s.jsx)("a",p({className:c},o,{children:i}))}):(0,s.jsx)("button",p({type:null!==t&&void 0!==t?t:"submit",className:c},o,{children:i}))},P=function(e){return(0,c.useContext)(j).loading?A(e):null},A=function(e){var t=e.className,n=e.icon,r=e.text,i=n||void 0===n,a=void 0===r?"loading...":r,o=["flex",t];return(0,s.jsxs)("div",{className:o.join(" "),title:"loading...",children:[i?(0,s.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"24px",height:"30px",viewBox:"0 0 24 30",children:[(0,s.jsxs)("rect",{x:"0",y:"10",width:"4",height:"10",fill:"#333",opacity:"0.2",children:[(0,s.jsx)("animate",{attributeName:"opacity",attributeType:"XML",values:"0.2; 1; .2",begin:"0s",dur:"0.6s",repeatCount:"indefinite"}),(0,s.jsx)("animate",{attributeName:"height",attributeType:"XML",values:"10; 20; 10",begin:"0s",dur:"0.6s",repeatCount:"indefinite"}),(0,s.jsx)("animate",{attributeName:"y",attributeType:"XML",values:"10; 5; 10",begin:"0s",dur:"0.6s",repeatCount:"indefinite"})]}),(0,s.jsxs)("rect",{x:"8",y:"10",width:"4",height:"10",fill:"#333",opacity:"0.2",children:[(0,s.jsx)("animate",{attributeName:"opacity",attributeType:"XML",values:"0.2; 1; .2",begin:"0.15s",dur:"0.6s",repeatCount:"indefinite"}),(0,s.jsx)("animate",{attributeName:"height",attributeType:"XML",values:"10; 20; 10",begin:"0.15s",dur:"0.6s",repeatCount:"indefinite"}),(0,s.jsx)("animate",{attributeName:"y",attributeType:"XML",values:"10; 5; 10",begin:"0.15s",dur:"0.6s",repeatCount:"indefinite"})]}),(0,s.jsxs)("rect",{x:"16",y:"10",width:"4",height:"10",fill:"#333",opacity:"0.2",children:[(0,s.jsx)("animate",{attributeName:"opacity",attributeType:"XML",values:"0.2; 1; .2",begin:"0.3s",dur:"0.6s",repeatCount:"indefinite"}),(0,s.jsx)("animate",{attributeName:"height",attributeType:"XML",values:"10; 20; 10",begin:"0.3s",dur:"0.6s",repeatCount:"indefinite"}),(0,s.jsx)("animate",{attributeName:"y",attributeType:"XML",values:"10; 5; 10",begin:"0.3s",dur:"0.6s",repeatCount:"indefinite"})]})]}):null,(0,s.jsx)("span",{className:"ml-1 text-gray-400",children:a})]})}},2889:function(e,t,n){var r=n(5893),i=n(9008),s=n(9953);t.Z=function(){return(0,r.jsxs)(i.default,{children:[(0,r.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/favicon/apple-touch-icon.png"}),(0,r.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon/favicon-32x32.png"}),(0,r.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon/favicon-16x16.png"}),(0,r.jsx)("link",{rel:"manifest",href:"/favicon/site.webmanifest"}),(0,r.jsx)("link",{rel:"mask-icon",href:"/favicon/safari-pinned-tab.svg",color:"#000000"}),(0,r.jsx)("link",{rel:"shortcut icon",href:"/favicon/favicon.ico"}),(0,r.jsx)("meta",{name:"msapplication-TileColor",content:"#000000"}),(0,r.jsx)("meta",{name:"msapplication-config",content:"/favicon/browserconfig.xml"}),(0,r.jsx)("meta",{name:"theme-color",content:"#000"}),(0,r.jsx)("link",{rel:"alternate",type:"application/rss+xml",href:"/feed.xml"}),(0,r.jsx)("meta",{name:"description",content:"A statically generated blog example using Next.js and ".concat(s.yf,".")}),(0,r.jsx)("meta",{property:"og:image",content:s.vC})]})}},3673:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(5893),i=n(1664),s=n(1163),a=n(667),o=n(4272);function c(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(){var e,t=[{href:"/about",name:"About"}],n=(0,a.Z)(),u=n.auth,l=n.attrs,d=n.signout,f=(0,s.useRouter)();u?(e=t).push.apply(e,c([{href:"/profile",name:"Profile"},{href:"/admin",name:"Admin",show:"role:Admin"},{type:"Button",onClick:function(e){return d("/")},name:"Sign Out"}])):(t.push({type:"Button",href:"/signin",name:"Sign In"}),t.push({type:"PrimaryButton",href:"/signup",name:"Register"}));var h=t.filter((function(e){return(!e.show||-1!==l.indexOf(e.show))&&!(e.hide&&l.indexOf(e.hide)>=0)}));return(0,r.jsx)("header",{className:"border-b border-gray-200 pr-3",children:(0,r.jsxs)("div",{className:"flex flex-wrap items-center",children:[(0,r.jsx)("div",{className:"flex-shrink flex-grow-0",children:(0,r.jsx)(i.default,{href:"/",children:(0,r.jsx)("div",{className:"p-4 cursor-pointer",children:(0,r.jsx)("img",{src:"/favicon/favicon-32x32.png",alt:"MyApp logo"})})})}),(0,r.jsx)("div",{className:"flex flex-grow flex-shrink flex-nowrap justify-end items-center",children:(0,r.jsx)("nav",{className:"relative flex flex-grow",children:(0,r.jsx)("ul",{className:"flex flex-wrap items-center justify-end w-full m-0",children:h.map((function(e){return(0,r.jsx)("li",{className:"relative flex flex-wrap just-fu-start m-0",children:"Button"===e.type?(0,r.jsx)(o.zx,{className:"mx-2",href:e.href,onClick:e.onClick,children:e.name}):"PrimaryButton"==e.type?(0,r.jsx)(o.KM,{className:"mx-2",href:e.href,onClick:e.onClick,children:e.name}):(0,r.jsx)(i.default,{href:e.href,children:(0,r.jsx)("a",{className:"flex items-center justify-start mw-full p-4 hover:text-success".concat(f.asPath===e.href?" text-success":""),children:e.name})})},e.name)}))})})})]})})}},9953:function(e,t,n){n.d(t,{Ys:function(){return r},yf:function(){return i},vC:function(){return s}});var r="blog-starter-typescript",i="Markdown",s="https://og-image.vercel.app/Next.js%20Blog%20Starter%20Example.png?theme=light&md=1&fontSize=100px&images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"},7008:function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.d(t,{qj:function(){return u},ee:function(){return l},aX:function(){return d}});var a=function e(t){r(this,e),Object.assign(this,t)},o=function e(t){r(this,e),Object.assign(this,t)},c=function e(t){r(this,e),Object.assign(this,t)},u=function(){function e(t){r(this,e),Object.assign(this,t)}return s(e,[{key:"createResponse",value:function(){return new a}},{key:"getTypeName",value:function(){return"Hello"}}]),e}(),l=function(){function e(t){r(this,e),Object.assign(this,t)}return s(e,[{key:"createResponse",value:function(){return new o}},{key:"getTypeName",value:function(){return"Authenticate"}}]),e}(),d=function(){function e(t){r(this,e),Object.assign(this,t)}return s(e,[{key:"createResponse",value:function(){return new c}},{key:"getTypeName",value:function(){return"Register"}}]),e}()},3047:function(e,t,n){n.d(t,{Z:function(){return i},L:function(){return s}});var r=n(5548),i={signin:function(e){return e?"/signin?redirect=".concat(e):"/signin"},forbidden:function(){return"/forbidden"}},s=(new r.JsonServiceClient).useBasePath("/api")},667:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(5666),i=n.n(r),s=n(1163),a=n(3288),o=n(3047),c=n(7008);function u(e,t,n,r,i,s,a){try{var o=e[s](a),c=o.value}catch(u){return void n(u)}o.done?t(c):Promise.resolve(c).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function a(e){u(s,r,i,a,o,"next",e)}function o(e){u(s,r,i,a,o,"throw",e)}a(void 0)}))}}var d="/api/Authenticate";function f(e){var t=null!==(t=void 0===e?{}:e)?t:function(e){throw e}(new TypeError("Cannot destructure undefined")),n=(0,a.ZP)(d,(function(e){return o.L.post(new c.ee)})),r=n.data,u=n.mutate,f=n.error,h=(0,a.kY)().cache,m=void 0===f&&void 0===r,p=void 0===f&&void 0!==r,x=[];function v(){return(v=l(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.L.post(new c.ee({provider:"logout"}));case 2:h.delete(d),u(),t&&s.default.push(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!m&&r&&((r.roles||[]).forEach((function(e){return x.push("role:".concat(e))})),(r.permissions||[]).forEach((function(e){return x.push("perm:".concat(e))})));return{auth:r,signedIn:p,attrs:x,loading:m,signout:function(e){return v.apply(this,arguments)},revalidate:u,hasRole:function(e){return((null===r||void 0===r?void 0:r.roles)||[]).indexOf(e)>=0},hasPermission:function(e){return((null===r||void 0===r?void 0:r.permissions)||[]).indexOf(e)>=0}}}}}]);